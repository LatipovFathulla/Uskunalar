{% extends 'layouts/base.html' %}
{% load static %}
{% load embed_video_tags %}
{% load i18n %}
{% block content %}
    <style>
        .about-slide {
            display: flex !important;
            overflow-x: scroll;
            width: 100%;
        }

        span {
            color: #000;
            line-height: 20px;
            font-family: system-ui;
        }

        p {
            color: #000;
            line-height: 20px;
            font-family: system-ui;
        }

        strong {
            color: #000;
            line-height: 20px;
            font-family: system-ui;
        }
    </style>
    <section class="banner">
        <div class="container">
            <div class="row">

            </div>
            <h1 class="banner-text">{% trans 'О нашей компании' %}</h1>
            <a href="{% url 'home:home' %}" style="color:#132E6B"><p class="banner-desc">{% trans 'Главная' %} </a> <span> > <a href="" class="banner-desc-title" style="color: #132E6B;">{% trans 'О нас' %}</a></span></p>

            <img src="{% static './images/backgorund-shadow.svg' %}" style="margin-top: -30%;margin-left: -60%;" alt="">
        </div>

    </section>

    <br>
    <br>
    <br>
    <div class="container about-mobile-drop">
        <img src="{% static './images/settings.svg' %}" class="icon-right-11" style="position: absolute;margin-top: -15%;width: 60px;" alt="">
            <div class="row">
                <div class="about-slide">
                    {% for about in abouts %}
                        <div class="col-8">
                            <button class="btn  tablinks" style="height:62px;width:100%;background:#FFE700;margin: 0px 0px 10px;font-size: 20px"  onclick="openCity(event, '{{ about.pk }}')"  value="{{ about.pk }}" id="defaultOpen">{{ about.title|safe }}</button>
                        </div>
                    {% endfor %}
                </div>
            </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-3 about-desktop-drop">
                <div class="tab">
                    {% for about in abouts %}
                        <hr class="hr-menu">
                        <button class="tablinks" onclick="openCity(event, '{{ about.pk }}')" id="defaultOpen" style="font-family:RobotoCondensed,Arial,sans-serif;font-size:17px">{{ about.title|safe }}</button>
                        <hr class="hr-menu">
                    {% endfor %}
                    <img src="{% static './images/Group_417.svg' %}" class="icon-right" style="left: -7%;margin: 10px;transform: rotate(-29deg)" alt="">
                </div>
            </div>
            <br>
            <img src="{% static './images/settings.svg' %}" class="icon-right" style="margin-top: -1.8%;right: 15%;"
                 alt="">

            <div class="col-md-9">
                {% for about in abouts %}
                <div id="{{ about.pk }}" class="tabcontent" >
                    <h1 style="font-size: 25px;font-family:RobotoCondensed,Arial,sans-serif;">{{ about.title|safe }}</h1>
                    <br>
                    <div class="row">
                        <div class="col-md-12">
                            <img src="{{ about.image.url }}" alt="">
                        </div>
                    </div>
                    <div class="container">
                         {{ about.description|safe }}
                    </div>
                    <section class="video">
                    <h3>{% trans 'Видео о нас' %}</h3>
                       <span>{% video about.url '100%x400' %}</span>
                </section>
                </div>
        {% endfor %}
            </div>

        </div>
        <!-- TABS PRESENTATION -->

        <!-- TABS PRESENTATION // -->
    </div>
    <!-- form -->
    <img src="{% static './images/Group_418.svg' %}" class="icon-right-transform2" style="right:20%" alt="">
 {% include 'requests.html' %}
    <img src="{% static './images/settings.svg' %}" class="icon-left-absolute"
         style="margin-top: -3%;margin-left: 3%;z-index: 0;position: absolute;" alt="">


    <script>
        console.clear();
    </script>

    <!-- Code by Fathulla Latipov LF -->
{% endblock %}

{% block extra_js %}
<script>
    window.onload = function(){
  crear_select();
}

function isMobileDevice() {
        window.onload = function(){
  crear_select();
}
};


var li = new Array();
function crear_select(){
var div_cont_select = document.querySelectorAll("[data-mate-select='active']");
var select_ = '';
for (var e = 0; e < div_cont_select.length; e++) {
div_cont_select[e].setAttribute('data-indx-select',e);
div_cont_select[e].setAttribute('data-selec-open','false');
var ul_cont = document.querySelectorAll("[data-indx-select='"+e+"'] > .cont_list_select_mate > ul");
 select_ = document.querySelectorAll("[data-indx-select='"+e+"'] >select")[0];
 if (isMobileDevice()) {
select_.addEventListener('change', function () {
 _select_option(select_.selectedIndex,e);
});
 }
var select_optiones = select_.options;
document.querySelectorAll("[data-indx-select='"+e+"']  > .selecionado_opcion ")[0].setAttribute('data-n-select',e);
document.querySelectorAll("[data-indx-select='"+e+"']  > .icon_select_mate ")[0].setAttribute('data-n-select',e);
for (var i = 0; i < select_optiones.length; i++) {
li[i] = document.createElement('li');
if (select_optiones[i].selected == true || select_.value == select_optiones[i].innerHTML ) {
li[i].className = 'active';
document.querySelector("[data-indx-select='"+e+"']  > .selecionado_opcion ").innerHTML = select_optiones[i].innerHTML;
};
li[i].setAttribute('data-index',i);
li[i].setAttribute('data-selec-index',e);
// funcion click al selecionar
li[i].addEventListener( 'click', function(){  _select_option(this.getAttribute('data-index'),this.getAttribute('data-selec-index')); });

li[i].innerHTML = select_optiones[i].innerHTML;
ul_cont[0].appendChild(li[i]);

    }; // Fin For select_optiones
  }; // fin for divs_cont_select
} // Fin Function



var cont_slc = 0;
function open_select(idx){
var idx1 =  idx.getAttribute('data-n-select');
  var ul_cont_li = document.querySelectorAll("[data-indx-select='"+idx1+"'] .cont_select_int > li");
var hg = 0;
var slect_open = document.querySelectorAll("[data-indx-select='"+idx1+"']")[0].getAttribute('data-selec-open');
var slect_element_open = document.querySelectorAll("[data-indx-select='"+idx1+"'] select")[0];
 if (isMobileDevice()) {
  if (window.document.createEvent) { // All
  var evt = window.document.createEvent("MouseEvents");
  evt.initMouseEvent("mousedown", false, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
	slect_element_open.dispatchEvent(evt);
} else if (slect_element_open.fireEvent) { // IE
  slect_element_open.fireEvent("onmousedown");
}else {
  slect_element_open.click();
}
}else {


  for (var i = 0; i < ul_cont_li.length; i++) {
hg += ul_cont_li[i].offsetHeight;
};
 if (slect_open == 'false') {
 document.querySelectorAll("[data-indx-select='"+idx1+"']")[0].setAttribute('data-selec-open','true');
 document.querySelectorAll("[data-indx-select='"+idx1+"'] > .cont_list_select_mate > ul")[0].style.height = hg+"px";
 document.querySelectorAll("[data-indx-select='"+idx1+"'] > .icon_select_mate")[0].style.transform = 'rotate(180deg)';
}else{
 document.querySelectorAll("[data-indx-select='"+idx1+"']")[0].setAttribute('data-selec-open','false');
 document.querySelectorAll("[data-indx-select='"+idx1+"'] > .icon_select_mate")[0].style.transform = 'rotate(0deg)';
 document.querySelectorAll("[data-indx-select='"+idx1+"'] > .cont_list_select_mate > ul")[0].style.height = "0px";
 }
}

} // fin function open_select

function salir_select(indx){
var select_ = document.querySelectorAll("[data-indx-select='"+indx+"'] > select")[0];
 document.querySelectorAll("[data-indx-select='"+indx+"'] > .cont_list_select_mate > ul")[0].style.height = "0px";
document.querySelector("[data-indx-select='"+indx+"'] > .icon_select_mate").style.transform = 'rotate(0deg)';
 document.querySelectorAll("[data-indx-select='"+indx+"']")[0].setAttribute('data-selec-open','false');
}


function _select_option(indx,selc){
 if (isMobileDevice()) {
selc = selc -1;
}
    var select_ = document.querySelectorAll("[data-indx-select='"+selc+"'] > select")[0];

  var li_s = document.querySelectorAll("[data-indx-select='"+selc+"'] .cont_select_int > li");
  var p_act = document.querySelectorAll("[data-indx-select='"+selc+"'] > .selecionado_opcion")[0].innerHTML = li_s[indx].innerHTML;
var select_optiones = document.querySelectorAll("[data-indx-select='"+selc+"'] > select > option");
for (var i = 0; i < li_s.length; i++) {
if (li_s[i].className == 'active') {
li_s[i].className = '';
};
li_s[indx].className = 'active';

};
select_optiones[indx].selected = true;
  select_.selectedIndex = indx;
  select_.onchange();
  salir_select(selc);
}
</script>
    <script>
        function openCity(evt, cityName ) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Get the element with id="defaultOpen" and click on it
        document.getElementById("defaultOpen").click();


        $(function () {
            var Accordion = function (el, multiple) {
                this.el = el || {};
                this.multiple = multiple || false;

                // Variables privadas
                var links = this.el.find('.link');
                // Evento
                links.on('click', {el: this.el, multiple: this.multiple}, this.dropdown)
            }

            Accordion.prototype.dropdown = function (e) {
                var $el = e.data.el;
                $this = $(this),
                    $next = $this.next();

                $next.slideToggle();
                $this.parent().toggleClass('open');

                if (!e.data.multiple) {
                    $el.find('.submenu').not($next).slideUp().parent().removeClass('open');
                }
                ;
            }

            var accordion = new Accordion($('#accordion4_1'), false);
        });
    </script>
{% endblock %}